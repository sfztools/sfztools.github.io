{% import "sfizz/sfz_support_status.j2" as sfz_support with context %}

{%- set status_done = namespace() %}
{%- set status_done.aria = 0 %}
{%- set status_done.cake = 0 %}
{%- set status_done.sfz1 = 0 %}
{%- set status_done.sfz2 = 0 %}
{%- set status_wip = namespace() %}
{%- set status_wip.aria = 0 %}
{%- set status_wip.cake = 0 %}
{%- set status_wip.sfz1 = 0 %}
{%- set status_wip.sfz2 = 0 %}

{{- sfz_support.calc(status_done, status_wip) }}

<table
	data-toggle="table"
	data-classes="table table-sm"
>
	<thead class="table-dark">
		<tr>
			<th>Version</th>
			<th>Status</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="opcodes/?v=1">SFZ v1</a></td>
			<td>
				<div class="progress">
				{%- if status_done.sfz1 > 0 %}
					<div
						class="progress-bar bg-success"
						role="progressbar"
						style="width:{{ status_done.sfz1 }}%"
						aria-valuenow="{{ status_done.sfz1 }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_done.sfz1 }}%</div>
					{%- endif %}
					{%- if status_wip.sfz1 > 0 %}
					<div
						class="progress-bar bg-warning"
						role="progressbar"
						style="width:{{ status_wip.sfz1 }}%;color:black"
						aria-valuenow="{{ status_wip.sfz1 }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_wip.sfz1 }}%</div>
					{%- endif %}
				</div>
			</td>
		</tr>
		<tr>
			<td><a href="opcodes/?v=2">SFZ v2</a></td>
			<td>
				<div class="progress">
					{%- if status_done.sfz2 > 0 %}
					<div
						class="progress-bar bg-success"
						role="progressbar"
						style="width:{{ status_done.sfz2 }}%"
						aria-valuenow="{{ status_done.sfz2 }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_done.sfz2 }}%</div>
					{%- endif %}
					{%- if status_wip.sfz2 > 0 %}
					<div
						class="progress-bar bg-warning"
						role="progressbar"
						style="width:{{ status_wip.sfz2 }}%;color:black"
						aria-valuenow="{{ status_wip.sfz2 }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_wip.sfz2 }}%</div>
					{%- endif %}
				</div>
			</td>
		</tr>
		<tr>
			<td><a href="opcodes/?v=cakewalk">Cakewalk</a></td>
			<td>
				<div class="progress">
					{%- if status_done.cake > 0 %}
					<div
						class="progress-bar bg-success"
						role="progressbar"
						style="width:{{ status_done.cake }}%"
						aria-valuenow="{{ status_done.cake }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_done.cake }}%</div>
					{%- endif %}
					{%- if status_wip.cake > 0 %}
					<div
						class="progress-bar bg-warning"
						role="progressbar"
						style="width:{{ status_wip.cake }}%;color:black"
						aria-valuenow="{{ status_wip.cake }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_wip.cake }}%</div>
					{%- endif %}
				</div>
			</td>
		</tr>
		<tr>
			<td><a href="opcodes/?v=aria">ARIA</a></td>
			<td>
				<div class="progress">
					{%- if status_done.aria > 0 %}
					<div
						class="progress-bar bg-success"
						role="progressbar"
						style="width:{{ status_done.aria }}%"
						aria-valuenow="{{ status_done.aria }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_done.aria }}%</div>
					{%- endif %}
					{%- if status_wip.aria > 0 %}
					<div
						class="progress-bar bg-warning"
						role="progressbar"
						style="width:{{ status_wip.aria }}%;color:black"
						aria-valuenow="{{ status_wip.aria }}"
						aria-valuemin="0"
						aria-valuemax="100"
					>{{ status_wip.aria }}%</div>
					{%- endif %}
				</div>
			</td>
		</tr>
	</tbody>
</table>
